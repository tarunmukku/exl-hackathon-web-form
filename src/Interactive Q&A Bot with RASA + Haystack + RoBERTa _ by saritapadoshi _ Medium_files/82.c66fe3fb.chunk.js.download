(self.webpackChunklite=self.webpackChunklite||[]).push([[82],{26441:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(67294),i=n(47230),o=n(77355),l=n(31889),a=n(14646),c=n(14856),s=function(e){var t,n=e.buttonSize,s=void 0===n?"LARGE":n,u=e.buttonStyle,d=void 0===u?"STRONG":u,m=e.showMailIcon,p=void 0===m||m,f=e.onClick,E=e.width,b=e.buttonText,g=void 0===b?"Get this newsletter":b,h=e.redirectUrl,y=e.displayOnly,w=void 0!==y&&y,v=(0,l.F)(),x=(0,a.I)();return r.createElement(i.z,{buttonStyle:d,onClick:f,size:s,width:E,padding:"0 8px",href:h,displayOnly:w},r.createElement(o.x,{display:"flex",paddingRight:"8px",justifyContent:"center",alignItems:"center"},p&&r.createElement("span",{className:x((t=v.accentColor.background,{stroke:t})),"aria-hidden":"true"},r.createElement(c.Z,null)),g))}},92548:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var r=n(67294),i=n(77355),o=n(47230),l=n(14646),a=n(62528),c={from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}},s=function(e){return function(t){return{width:"20px",height:"20px",borderRadius:"50%",borderWidth:"1px",borderStyle:"solid",borderColor:"".concat(t.baseColor.border.light," transparent ").concat(t.baseColor.border.light," ").concat(t.baseColor.border.light),animation:"".concat(e," 1s infinite linear;")}}},u=function(e){var t=e.buttonSize,n=void 0===t?"LARGE":t,u=e.buttonStyle,d=void 0===u?"STRONG":u,m=e.width,p=void 0===m?"100%":m,f=(0,l.I)(),E=function(){var e=(0,a.o)({keyframesName:c}).keyframesName;return r.createElement("div",{className:f(s(e))})},b=function(){return r.createElement(i.x,null,r.createElement(i.x,{display:"inline-block",float:"left",marginRight:"8px"},r.createElement(E,null)),r.createElement(i.x,{float:"left"},"Loading.."))};return r.createElement("div",{style:{cursor:"wait"}},r.createElement(o.z,{buttonStyle:d,onClick:function(){return null},size:n,width:p,disabled:!0},r.createElement(b,null)))}},19616:(e,t,n)=>{"use strict";n.d(t,{B:()=>L,x:()=>j});var r=n(67154),i=n.n(r),o=n(63038),l=n.n(o),a=n(28655),c=n.n(a),s=n(92471),u=n(67294),d=n(26441),m=n(61279),p=n(6443),f=n(26350),E=n(98007),b=n(77355),g=n(1383),h=n(16793),y=n(98096),w=n(47230),v=n(93310),x=n(19897),S=n(87691),T=n(18627),C=n(66411),R=n(97217),O=n(78285),k=n(77280),N=n(43487),V=n(68894),_=n(50458),I=n(3207);function A(){var e=c()(["\n  fragment NewsletterV3SubscribeButton_newsletterV3 on NewsletterV3 {\n    id\n    name\n    slug\n    type\n    user {\n      id\n      name\n      username\n    }\n    collection {\n      slug\n      ...SusiClickable_collection\n      ...collectionDefaultBackgroundTheme_collection\n    }\n    ...SusiClickable_newsletterV3\n    ...useNewsletterV3Subscription_newsletterV3\n  }\n  ","\n  ","\n  ","\n  ","\n"]);return A=function(){return e},e}var L=(0,s.Ps)(A(),E.Os,E.GB,I.Gi,m.DI),j=function(e){var t,n,r,o,a=e.newsletterV3,c=e.buttonLayout,s=void 0===c?"MULTI-LINE":c,E=e.helperTextColor,A=void 0===E?"LIGHTER":E,L=e.showHelperText,j=void 0===L||L,P=e.showMailIcon,B=void 0===P||P,D=e.buttonSize,G=void 0===D?"LARGE":D,U=e.buttonStyle,F=void 0===U?"STRONG":U,M=e.redirectUrl,z=e.buttonText,$=e.width,W=(0,p.H)().value,Y=a.id,H=a.collection?a.collection:void 0,q=a.user?a.user:void 0,Z=(0,O.w)(),K=(0,k.PM)(),Q=(0,C.Lk)(),X=(0,T.Av)(),J=(0,N.v9)((function(e){return e.config.productName})),ee=(0,V.O)(!1),te=l()(ee,3),ne=te[0],re=te[1],ie=te[2];switch(a.type){case R.Rr.NEWSLETTER_TYPE_COLLECTION:t=a.name,n="Get this newsletter",r="You’re signed up for ".concat(t,"."),o="newsletter_v3_promo";break;case R.Rr.NEWSLETTER_TYPE_AUTHOR:t=null==q?void 0:q.name,n="Subscribe",r="You’re subscribed to ".concat(t),o="subscribe_user"}var oe=(0,m.oT)({newsletterV3:a,newsletterName:t}),le=oe.isSubscribed,ae=oe.hasError,ce=oe.setSubscribe;u.useEffect((function(){if(K){var e=(0,C.P7)(K||"").susiEntry;["collection_newsletter_v3_landing","newsletter_v3_promo"].includes(void 0===e?"":e)&&le&&Z({duration:"NEXTPAGE",toastStyle:"NEWSLETTER_SUBSCRIBE",extraParams:{newsletterName:t,newsletterType:a.type,unsubscribeFn:function(){return ce(!1)}}})}}),[K,le]);var se=function(e){var t=e.children;return u.createElement(b.x,{margin:"COMPACT"===s?"10px 20px 10px 0":"",xs:{margin:"10px 0 0 0"}},t)},ue=function(e){var t=e.children;return u.createElement(b.x,{maxWidth:"COMPACT"===s?"380px":"",margin:"COMPACT"===s?"10px 0 10px 0":"10px 0 0 0"},u.createElement(S.F,{scale:"S",color:A},t))},de=function(){var e=(0,_.Zul)(Y),r={buttonSize:G,buttonStyle:F,onClick:function(){var e;W?W&&W.allowEmailAddressSharingEditorWriter?ce(!0,!1):re():null!=q&&null!==(e=q.newsletterV3)&&void 0!==e&&e.id?X.event("newsletterV3.subscribeClicked",{newsletterV3Id:q.newsletterV3.id,source:Q}):null!=q&&q.id&&X.event("user.LOSubscribeClicked",{targetUserId:q.id,source:Q})},showMailIcon:B,buttonText:z||n,redirectUrl:M,width:$};return u.createElement(se,null,W?u.createElement(u.Fragment,null,u.createElement(d.w,r),u.createElement(g.Q,{onConfirm:function(){return ce(!0,!0)},isVisible:ne,hide:ie,titleText:"Confirm your subscription to ".concat(t),confirmText:"Confirm now",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!1,withCloseButton:!1,isDestructiveAction:!1},"By confirming, you agree to share your email address with the editors of newsletters and writers you've subscribed to so they can stay in contact with you outside of ".concat(J,". You can opt out of sharing your email address by unsubscribing in your Settings."))):u.createElement(f.R,{operation:"register",newsletterV3:a,user:q,collection:H,actionUrl:e,susiEntry:o,redirectTo:M},u.createElement(d.w,i()({},r,{redirectUrl:void 0}))))};return u.createElement(u.Fragment,null,u.createElement(h.Z,null,(function(e){return u.createElement(y.f,{theme:(0,I.jN)(H,e)},le?u.createElement(u.Fragment,null,u.createElement(se,null,u.createElement(w.z,{buttonStyle:"SUBTLE",size:"SMALL",onClick:function(){return ce(!1)}},"Unsubscribe")),j&&u.createElement(ue,null,r)):u.createElement(C.cW,{source:{newsletterV3Id:a.id},extendSource:!0},u.createElement(de,null),j&&W&&u.createElement(ue,null,"Emails will be sent to ",W.email,".",u.createElement(f.R,{operation:"login",newsletterV3:a,collection:H,susiEntry:o},u.createElement(v.r,{display:"block",linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Not you?")))))})),ae&&u.createElement(x.F,{toastStyle:"RETRYABLE_ERROR",isVisible:ae,hide:function(){}}))}},83302:(e,t,n)=>{"use strict";n.d(t,{QL:()=>M,Ae:()=>z,Lh:()=>$});var r,i,o=n(28655),l=n.n(o),a=n(63038),c=n.n(a),s=n(59713),u=n.n(s),d=n(64718),m=n(21919),p=n(92471),f=n(67294),E=n(26441),b=n(92548),g=n(93717),h=n(18839),y=n(76109),w=n(12890),v=n(98096),x=n(77355),S=n(93310),T=n(21755),C=n(87691),R=n(66411),O=n(31889),k=n(40980),N=n(97217),V=n(43487),_=n(6855),I=n(17583),A=n(50458),L=n(68216),j=n(3207);function P(){var e=l()(["\n  fragment NewsletterV3SubscribeByEmail_newsletterV3 on NewsletterV3 {\n    id\n    slug\n    type\n    user {\n      id\n      name\n      username\n    }\n    collection {\n      ...collectionDefaultBackgroundTheme_collection\n      ...collectionUrl_collection\n    }\n  }\n  ","\n  ","\n"]);return P=function(){return e},e}function B(){var e=l()(["\n  mutation SendNewsletterSubscriptionAcctAuthEmail(\n    $newsletterV3Id: String!\n    $email: String!\n    $redirect: String\n    $captchaValue: String\n    $operation: String\n  ) {\n    sendNewsletterSubscriptionAcctAuthEmail(\n      newsletterV3Id: $newsletterV3Id\n      email: $email\n      redirect: $redirect\n      captchaValue: $captchaValue\n      operation: $operation\n    ) {\n      ... on SusiMethod {\n        value\n      }\n      ... on BadRequest {\n        message\n      }\n      ... on FailedChallenge {\n        message\n      }\n      ... on NotFound {\n        message\n      }\n    }\n  }\n"]);return B=function(){return e},e}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=(r={},u()(r,T.j.xl,425),u()(r,T.j.lg,425),u()(r,T.j.md,375),u()(r,T.j.sm,475),u()(r,T.j.xs,250),r),F=(i={},u()(i,T.j.xl,375),u()(i,T.j.lg,375),u()(i,T.j.md,325),u()(i,T.j.sm,450),u()(i,T.j.xs,200),i),M=function(e){var t=e.centerContent,n=void 0!==t&&t,r=e.newsletterV3,i=e.isVertical,o=e.handleClick,l=(0,O.F)(),a=(0,R.pK)(),s=(0,R.hp)(),u=(0,V.v9)((function(e){return e.config.authDomain})),p=(0,V.v9)((function(e){return e.navigation.currentLocation})),L=(0,V.v9)((function(e){return e.config.productName})),P=f.useState(""),B=c()(P,2),D=B[0],M=B[1],$=f.useState(""),W=c()($,2),Y=W[0],H=W[1],q=f.useState(!1),Z=c()(q,2),K=Z[0],Q=Z[1],X=f.useState(!1),J=c()(X,2),ee=J[0],te=J[1],ne=f.useState(!1),re=c()(ne,2),ie=re[0],oe=re[1],le=f.useState(!1),ae=c()(le,2),ce=ae[0],se=ae[1],ue=f.useState(""),de=c()(ue,2),me=de[0],pe=de[1],fe="register",Ee=r.type===N.Rr.NEWSLETTER_TYPE_AUTHOR?"Subscribe":"Get this newsletter",be=null==p.match("http[s]?://[^/]*".concat(u)),ge=r.collection,he=r.id,ye=r.slug,we=r.user,ve=(0,A.Zul)(he),xe=ge?(0,A.iBn)(ye,u,ge,(null==we?void 0:we.username)||""):p;(0,d.a)(y.qz,{fetchPolicy:"no-cache",skip:!ve||be,onCompleted:function(e){var t=e.accountToken;return t&&pe((0,h.hQ)(xe,a,s,ve,t))}});var Se=function(e){M(e),Q(!0),setTimeout((function(){return Q(!1)}),w.zn),te(!1),oe(!1)},Te=function(){(0,_.J)(Y)?(oe(!0),te(!0)):Se("Enter a valid email address.")},Ce=function(){Se("We couldn't process your request. Try again, or contact our support team.")},Re=(0,m.D)(z,{onCompleted:function(e){switch(e.sendNewsletterSubscriptionAcctAuthEmail.__typename){case"SusiMethod":H(Y),se(!0),o&&o();break;case"BadRequest":Se("Enter a valid email address.");break;case"FailedChallenge":case"NotFound":default:Ce()}},onError:Ce}),Oe=c()(Re,1)[0],ke={newsletterV3Id:he,email:Y,operation:fe,redirect:me},Ne=(0,I.s)()||T.j.lg,Ve=r.type===N.Rr.NEWSLETTER_TYPE_AUTHOR?U:F;return f.createElement(v.f,{theme:(0,j.jN)(ge,l)},f.createElement(x.x,{alignItems:n?"center":"flex-start",display:"flex",flexDirection:"column",justifyContent:n?"center":"flex-start"},f.createElement(g.k,{callback:function(e){Oe({variables:G({captchaValue:e},ke)})},shouldExecuteRecaptcha:ee}),f.createElement(x.x,{display:ce?"none":"inline"},f.createElement(x.x,{alignItems:i?"flex-start":"center",display:"flex",justifyContent:"space-between",flexDirection:i?"column":"row",sm:{alignItems:n?"center":"flex-start",flexDirection:"column",paddingTop:"16px"}},f.createElement(x.x,{marginTop:D&&"25px",sm:{marginTop:"0"}},f.createElement(w.II,{errorMessage:D,handleInputChange:function(e){H(e.target.value.trim())},handleSubmit:Te,input:Y,inputType:w.n$.EMAIL,isAnimating:K,textAlign:"start",placeholder:"Your email",width:i?"250px":"".concat(Ve[Ne],"px")})),f.createElement(x.x,{marginBottom:"auto",marginLeft:i?"0":"15px",sm:{marginLeft:"0px",marginTop:"15px"},marginTop:i?"20px":void 0},ie?f.createElement(b.B,{newsletterV3Id:he}):f.createElement(k.$,{eventData:{operation:fe}},f.createElement(E.w,{onClick:Te,buttonText:Ee})))),f.createElement(x.x,{marginTop:D?"10px":"25px",sm:{marginTop:"25px"}},f.createElement(C.F,{color:"DARKER",scale:"XS"},"By signing up, you will create a ",L," account if you don’t already have one. Review our"," ",f.createElement(S.r,{href:(0,A.wob)(),linkStyle:"OBVIOUS",inline:!0,target:"_blank"},"Privacy Policy")," ","for more information about our privacy practices."))),f.createElement(x.x,{display:ce?"inline":"none",marginBottom:"15px",marginTop:"5px",height:"75px"},f.createElement(C.F,{color:"DARKER",scale:"M"},L," sent you an email at ",Y," to complete your subscription."))))},z=(0,p.Ps)(B()),$=(0,p.Ps)(P(),j.Gi,L.nf)}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/82.c66fe3fb.chunk.js.map