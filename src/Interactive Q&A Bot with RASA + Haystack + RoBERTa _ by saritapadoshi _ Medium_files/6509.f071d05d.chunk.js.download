(self.webpackChunklite=self.webpackChunklite||[]).push([[6509],{42130:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(67294);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.39 12c0 .55.2 1.02.59 1.41.39.4.86.59 1.4.59.56 0 1.03-.2 1.42-.59.4-.39.59-.86.59-1.41 0-.55-.2-1.02-.6-1.41A1.93 1.93 0 0 0 6.4 10c-.55 0-1.02.2-1.41.59-.4.39-.6.86-.6 1.41zM10 12c0 .55.2 1.02.58 1.41.4.4.87.59 1.42.59.54 0 1.02-.2 1.4-.59.4-.39.6-.86.6-1.41 0-.55-.2-1.02-.6-1.41a1.93 1.93 0 0 0-1.4-.59c-.55 0-1.04.2-1.42.59-.4.39-.58.86-.58 1.41zm5.6 0c0 .55.2 1.02.57 1.41.4.4.88.59 1.43.59.57 0 1.04-.2 1.43-.59.39-.39.57-.86.57-1.41 0-.55-.2-1.02-.57-1.41A1.93 1.93 0 0 0 17.6 10c-.55 0-1.04.2-1.43.59-.38.39-.57.86-.57 1.41z",fill:"#000"});const a=function(e){return i.createElement("svg",o({width:24,height:24,viewBox:"0 0 24 24",fill:"none"},e),r)}},24415:(e,n,t)=>{"use strict";t.d(n,{c:()=>d});var i=t(67154),o=t.n(i),r=t(6479),a=t.n(r),l=t(67294),s=t(6729),c=t(93310),u=t(42130),d=function(e){var n=e.iconStyle,t=void 0===n?"ICON":n,i=a()(e,["iconStyle"]);return l.createElement(c.r,o()({rules:"ICON_SUBTLE"===t?s.OL:s.Yq},i),l.createElement(u.Z,null))}},48172:(e,n,t)=>{"use strict";t.d(n,{g:()=>a});var i=t(319),o=t.n(i),r=t(46732),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverflowMenuItemUndoClaps_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}].concat(o()(r.JP.definitions))}},75150:(e,n,t)=>{"use strict";t.d(n,{T:()=>p});var i=t(67294),o=t(27517),r=t(13195),a=t(6443),l=t(98550),s=t(38352),c=t(93310),u=t(83486),d=t(43487),m=t(51681),p=function(e){var n=e.post,t=e.hidePopover,p=(0,a.H)().value,v=null==p?void 0:p.id,f=(0,l.T)(n).viewerEdge,g=(0,o.I0)(),k=i.useCallback((function(e){return g((0,u.at)(e))}),[g]),b=(0,d.b$)((function(e){return e.multiVote.clapsPerPost})),y=(0,m.l)(b,n,f),h=y.clapCount,E=y.viewerClapCount,S=(0,r.CP)();return v&&h&&E&&E>0?i.createElement(s.Sl,null,i.createElement(c.r,{onClick:function(){S(n,(null==p?void 0:p.id)||"",-E,f),k({postId:n.id,clapCount:h-E,viewerClapCount:0,viewerHasClappedSinceFetch:!0}),t()}},"Undo applause for this post")):null}},6419:(e,n,t)=>{"use strict";t.d(n,{g:()=>d,H:()=>m});var i=t(28655),o=t.n(i),r=t(92471),a=t(32493),l=t(67294),s=t(27517),c=t(78285);function u(){var e=o()(["\n  mutation UserReportStoryMutation(\n    $targetPostId: ID!\n    $targetAuthorId: ID!\n    $alsoBlockAuthor: Boolean!\n    $reason: String!\n  ) {\n    reportStoryAndMaybeBlockAuthor(\n      targetPostId: $targetPostId\n      targetAuthorId: $targetAuthorId\n      alsoBlockAuthor: $alsoBlockAuthor\n      reason: $reason\n    ) {\n      __typename\n      id\n      viewerEdge {\n        __typename\n        id\n        isBlocking\n      }\n    }\n  }\n"]);return u=function(){return e},e}var d=(0,r.Ps)(u()),m=(0,s.$j)()((function(e){var n=e.targetAuthorId,t=e.targetPostId,i=e.dispatch,o=e.children,r=e.onOptimisticComplete,s=e.isBlocking,u=e.viewerId;return l.createElement(a.m,{mutation:d,onCompleted:function(){i((0,c.Dx)({message:"Successfully reported post."}))}},(function(e){return o({mutate:function(i,o){var a=e({variables:{targetAuthorId:n,targetPostId:t,alsoBlockAuthor:i,reason:o},optimisticResponse:{__typename:"Mutation",reportStoryAndMaybeBlockAuthor:{__typename:"User",id:n,viewerEdge:{__typename:"UserViewerEdge",id:"userId:".concat(n,"-viewerId:").concat(u),isBlocking:s||i}}}});return r&&r(),a}})}))}))},31048:(e,n,t)=>{"use strict";t.d(n,{w4:()=>A,SX:()=>F});var i=t(59713),o=t.n(i),r=t(63038),a=t.n(r),l=t(28655),s=t.n(l),c=t(92471),u=t(21919),d=t(67294),m=t(25267),p=t(38352),v=t(93310),f=t(77355),g=t(1383),k=t(87691),b=t(14646),y=t(78285);function h(){return(h=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var E=d.createElement("path",{d:"M0 .35v15.3h20V.35H0zm6.95 9.38l3.05 2.5 3.05-2.5 4.88 4.73H2.07l4.88-4.73zM1.2 13.64V5.02l4.82 3.94-4.82 4.68zm12.78-4.68l4.82-3.94v8.62l-4.82-4.68zm4.82-7.42v1.94l-8.8 7.2-8.8-7.2V1.54h17.6z"});const S=function(e){return d.createElement("svg",h({width:20,height:16,viewBox:"0 0 20 16"},e),E)};var C=t(68894);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function I(){var e=s()(["\n  mutation sendPostAsEmails($postId: ID!) {\n    sendPostAsEmails(postId: $postId)\n  }\n"]);return I=function(){return e},e}function x(){var e=s()(["\n  fragment NewsletterV3EmailToSubscribersMenuItem_post on Post {\n    id\n    creator {\n      id\n      newsletterV3 {\n        id\n        subscribersCount\n      }\n    }\n    isNewsletter\n    isAuthorNewsletter\n  }\n"]);return x=function(){return e},e}function N(e){return{fill:e.baseColor.fill.lighter}}var _={height:"16px",width:"16px",marginLeft:"4px"},F=(0,c.Ps)(x()),O=(0,c.Ps)(I());function A(e){var n=e.post,t=e.onClick,i=e.menuStyle,o=(0,b.I)(),r=(0,C.O)(!1),l=a()(r,3),s=l[0],c=l[1],h=l[2],E=(0,y.w)(),P=function(){h(),t()},I=(0,u.D)(O,{variables:{postId:(null==n?void 0:n.id)||""},onCompleted:function(e){var n=e.sendPostAsEmails;E(n?{message:"Your story has been emailed to subscribers.",toastStyle:"MESSAGE",duration:2e3}:{message:"We couldn't process your request. Try again, or contact our support team.",toastStyle:"ERROR",duration:2e3})},update:function(e,t){var i,o={id:"Post:".concat(null==n?void 0:n.id),fragment:F,fragmentName:"NewsletterV3EmailToSubscribersMenuItem_post"},r=e.readFragment(o);e.writeFragment(w(w({},o),{},{data:w(w({},r),{},{isAuthorNewsletter:null===(i=t.data)||void 0===i?void 0:i.sendPostAsEmails})}))}}),x=a()(I,1)[0];return d.createElement(m.I,null,(function(e){var r,a,l;return e&&e.id===(null==n||null===(r=n.creator)||void 0===r?void 0:r.id)&&(null==n||!n.isNewsletter)&&((null==n||null===(a=n.creator)||void 0===a||null===(l=a.newsletterV3)||void 0===l?void 0:l.subscribersCount)||0)>0?d.createElement(d.Fragment,null,d.createElement(p.Sl,{paddingTopBottom:"8px"},d.createElement(v.r,{onClick:function(){null!=n&&n.isAuthorNewsletter?(E({message:"You’ve already sent this story to subscribers.",toastStyle:"ERROR",duration:2e3}),t()):c()}},"TEXT"===i?d.createElement(f.x,{display:"inline-block"},d.createElement(k.F,{scale:"M"},"Email to subscribers")):d.createElement(f.x,{display:"inline-block"},d.createElement(S,{className:o([N,_])}),d.createElement(f.x,{display:"inline-block",marginLeft:"20px"},d.createElement(k.F,{scale:"S"},"Email to subscribers"))))),d.createElement(g.Q,{onConfirm:function(){x(),P()},isVisible:s,hide:P,titleText:"Email to subscribers",confirmText:"Send",buttonStyle:"STRONG",buttonSize:"LARGE",showCancelButton:!0,withCloseButton:!0,isDestructiveAction:!1},"A link to this story will be emailed to all your subscribers.")):d.createElement(d.Fragment,null)}))}},16880:(e,n,t)=>{"use strict";t.d(n,{$:()=>m});var i=t(28655),o=t.n(i),r=t(92471),a=t(67294),l=t(38352),s=t(95445),c=t(78870),u=t(50458);function d(){var e=o()(["\n  fragment CopyFriendLinkMenuItem_post on Post {\n    id\n  }\n"]);return d=function(){return e},e}var m=function(e){var n=e.post,t=e.shareKey;return n&&t?a.createElement(l.Sl,null,a.createElement(s.b,{url:(0,c.Rk)((0,u.jVf)(n),{sk:t}),linkStyle:"SUBTLE"},(function(e){return e?"Copied!":"Copy Friend Link"}))):null};(0,r.Ps)(d())},76101:(e,n,t)=>{"use strict";t.d(n,{r:()=>h});var i=t(63038),o=t.n(i),r=t(67294),a=t(28655),l=t.n(a),s=t(92471),c=t(32493),u=t(27517),d=t(78285);function m(){var e=l()(["\n  mutation PostAllowResponsesMutation($targetPostId: ID!, $allowResponses: Boolean!) {\n    setPostAllowResponses(targetPostId: $targetPostId, allowResponses: $allowResponses) {\n      id\n      allowResponses\n    }\n  }\n"]);return m=function(){return e},e}var p=(0,s.Ps)(m()),v=(0,u.$j)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,o=e.targetPostId;return r.createElement(c.m,{mutation:p,onCompleted:function(){t((0,d.Dx)({message:"Responses are now hidden for this post."})),i&&i()},variables:{targetPostId:o,allowResponses:!1},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!1}}},(function(e){return n({mutate:e})}))})),f=(0,u.$j)()((function(e){var n=e.children,t=e.dispatch,i=e.onCompleted,o=e.targetPostId;return r.createElement(c.m,{mutation:p,onCompleted:function(){t((0,d.Dx)({message:"Responses are now shown for this post."})),i&&i()},variables:{targetPostId:o,allowResponses:!0},optimisticResponse:{__typename:"Mutation",setPostAllowResponses:{__typename:"Post",id:o,allowResponses:!0}}},(function(e){return n({mutate:e})}))})),g=t(75675),k=t(38352),b=t(93310),y=t(68894),h=function(e){var n=e.hidePopover,t=e.postId,i=e.allowResponses,a=(0,y.O)(!1),l=o()(a,3),s=l[0],c=l[1],u=l[2],d=function(){u(),n()};return r.createElement(r.Fragment,null,r.createElement(v,{targetPostId:t},(function(e){var n=e.mutate;return r.createElement(g.w,{onConfirm:n,isVisible:s,hide:d,entityTypename:"Post"})})),r.createElement(f,{targetPostId:t},(function(e){var n=e.mutate;return r.createElement(k.Sl,null,r.createElement(b.r,{onClick:function(){i?c():n()}},i?"Hide responses":"Show responses"))})))}},41274:(e,n,t)=>{"use strict";t.d(n,{Z:()=>we,G:()=>Ie});var i=t(28655),o=t.n(i),r=t(63038),a=t.n(r),l=t(48403),s=t.n(l),c=t(92471),u=t(67294),d=t(24415),m=t(75150),p=t(48172),v=t(97755),f=t(87166),g=t(66021),k=t(92001),b=t(90833),y=t(31048),h=t(16880),E=t(76101),S=t(75412),C=t(71652),P=t(319),w=t.n(P),I=t(84683),x=t(29053),N={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionSubmissionOption_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat(w()(I.d.definitions))},_={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSubmissionPopoverQuery"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"writerCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"adminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionSubmissionOption_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_collection"}}]}}]}}]}}].concat(w()(N.definitions),w()(x.a.definitions))},F=t(8981),O=t(25267),A=t(38352),D=t(77355),R=t(93310),T=t(97521),V=t(47230),M=t(66227),B=t(73917),j=t(70310),$=t(87691),L=t(20113),U=t(90586),H=t(34135),z="collectionSubmissionPopover",K=[{name:"",value:"No publication",content:u.createElement(D.x,{height:"32px",display:"flex",alignItems:"center",marginLeft:"5px"},u.createElement($.F,{scale:"M",color:"DARKER"},"No publication"))}];function G(e){var n=e.collection;return n.name?u.createElement(D.x,{display:"flex",justifyContent:"space-between",width:"200px",alignItems:"center",marginLeft:"5px"},u.createElement($.F,{scale:"M",color:"DARKER"},n.name),u.createElement(C.v,{collection:n,size:32})):null}function Q(e){var n=e.show,t=e.post,i=t.statusForCollection,o=t.isPublished,r=u.useState(!1),l=a()(r,2),s=l[0],c=l[1];return s||H.V6.on("load",(function(){return c(!0)})),!i&&o&&s?u.createElement(Y,{post:t,noQueryReturn:null},(function(e){var i=e.loading,o=e.error,r=e.data;if(i||o)return null;var a=(void 0===r?{viewer:void 0}:r).viewer,l=t.creator;if(!a||!l||a.id!==l.id)return null;var s=a.adminCollections,c=a.writerCollections;return 0===s.length&&0===c.length?null:u.createElement(A.Sl,null,u.createElement(R.r,{"aria-controls":z,"aria-expanded":"false",onClick:n},"Add to publication"))})):null}function W(e){var n=e.isVisible,t=e.hide;return u.createElement(T.V,{isVisible:n,hide:t,withCloseButton:!0},u.createElement(D.x,{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"480px"},u.createElement(L.X6,{scale:"M",tag:"h3"},"Story submitted"),u.createElement(D.x,{paddingTop:"8px",paddingBottom:"24px"},u.createElement(U.QE,{scale:"M"},"We’ll email you when the publication editor has reviewed your submission.")),u.createElement(V.z,{buttonStyle:"OBVIOUS",onClick:t},"OK")))}var Y=function(e){var n=e.children,t=e.post,i=e.noQueryReturn,o=t.creator;return o?u.createElement(O.I,null,(function(e){return e?e.id!==o.id?i:u.createElement(S.A,{query:_,ssr:!1},(function(e){var t=e.loading,i=e.error,o=e.data;return n({loading:t,error:i,data:o})})):i})):i},X=function(e){var n=e.post,t=e.hide,i=e.showLoadingIndicator,o=e.isVisible,r=e.children,l=u.useState(!1),s=a()(l,2),c=s[0],d=s[1],m=u.useState(""),p=a()(m,2),v=p[0],f=p[1],g=(0,F.h3)(n),k=(0,F.Lf)(n);return c||H.V6.on("load",(function(){return d(!0)})),n.isPublished&&c?u.createElement(M.B,null,(function(e){var a=e.isVisible,l=e.hide,s=e.show;return u.createElement(u.Fragment,null,u.createElement(W,{hide:l,isVisible:a}),u.createElement(Y,{post:n,noQueryReturn:r},(function(e){var a=e.loading,l=e.error,c=e.data;if(a||l)return r;var d=(void 0===c?{viewer:void 0}:c).viewer,m=n.creator;if(!d||!m||d.id!==m.id)return r;var p=d.adminCollections,b=d.writerCollections;if(0===p.length&&0===b.length)return r;var y=p.concat(b).filter((function(e){return!!e&&!!e.slug&&!!e.name})).map((function(e){return{name:e.slug||"",value:e.name||"",content:u.createElement(G,{collection:e})}})),h=K.concat(y),E=p.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),S=b.reduce((function(e,n){return e[n.slug||""]=n,e}),{}),C="";if(v){var P=h.find((function(e){return e.name===v}));P&&(C=P.value)}var w="addStoryToPublicationTitle";return u.createElement(B.J,{ariaId:z,hide:t,isVisible:o,popoverRenderFn:function(){return u.createElement(D.x,{padding:"20px",width:"280px",display:"flex",flexDirection:"column"},u.createElement($.F,{scale:"M",color:"DARKER",ariaLabelledById:w},"Add your story to a publication:"),u.createElement(D.x,{marginTop:"10px",position:"relative"},u.createElement(D.x,{position:"absolute",height:"16px",width:"100%",bottom:"0",zIndex:"100",backgroundImage:"linear-gradient(transparent, #ffffff)"}),u.createElement(D.x,{maxHeight:"160px",overflow:"auto"},u.createElement(j.E,{value:C,onChange:f,options:h,radioButtonsName:"addStory",ariaLabelledBy:w}))),u.createElement(D.x,{display:"flex",marginTop:"20px"},v in E?u.createElement(V.z,{onClick:function(){var e=E[v];t(),i(),g(e).then((function(){window.location.reload()}))},buttonStyle:"OBVIOUS"},"Add story"):u.createElement(V.z,{onClick:function(){var e=S[v];k(e),t(),s()},disabled:!v},"Submit"),u.createElement(D.x,{marginLeft:"10px"},u.createElement($.F,{scale:"M",color:"LIGHTER"},u.createElement(R.r,{onClick:t},u.createElement(D.x,{padding:"10px"},"Cancel"))))),u.createElement(D.x,{marginTop:"10px"},u.createElement($.F,{scale:"M"},"This story will be automatically submitted to the publication. When you submit your story, the publication's editors will be notified and will be able to edit your story.")))}},r)})))})):r},Z=t(27517),q=t(78285),J=function(e){var n=e.children,t=e.isVisible,i=e.post,o=e.hide,r=e.showLoadingIndicator,a=(0,F.h3)(i),l=(0,F.yb)(i),s=(0,Z.I0)(),c=i.pendingCollection;return c?u.createElement(B.J,{ariaId:"manageSubmissionPopover",isVisible:t,hide:o,popoverRenderFn:function(){return u.createElement(D.x,{padding:"16px",maxWidth:"280px"},u.createElement(D.x,{display:"flex",flexDirection:"row",alignItems:"center"},u.createElement(D.x,{paddingRight:"8px"},u.createElement(C.v,{collection:c,size:40})),u.createElement($.F,{scale:"S"},"This draft is submitted to ",c.name,".")),u.createElement(D.x,{flexDirection:"row",display:"flex",paddingTop:"16px"},u.createElement(D.x,{paddingRight:"8px"},u.createElement(V.z,{buttonStyle:"OBVIOUS",onClick:function(){o(),r(),a(i.pendingCollection).then((function(){window.location.reload()}))}},"Accept")),u.createElement(V.z,{buttonStyle:"SUBTLE",onClick:function(){l(i.pendingCollection).then((function(){s((0,q.Dx)({message:"Story removed from ".concat(c.name||"publication")}))})),o()}},"Don't accept")))}},n):n},ee=t(62676),ne=t(67701),te="removeFromPublicationPopover",ie=function(e){var n=e.viewer,t=e.show,i=e.post,o=(0,ne.gY)(i.pendingCollection||i.collection).viewerEdge,r=null==o?void 0:o.isEditor;return n&&("APPROVED"===i.statusForCollection&&(r||(0,ee.py)(i,n)||(0,ee.Hj)(i,n))||"PENDING"===i.statusForCollection&&(0,ee.Hj)(i,n))?u.createElement(A.Sl,null,u.createElement(R.r,{"aria-controls":te,"aria-expanded":"false",onClick:t},"Remove story from publication")):null},oe=function(e){var n=e.children,t=e.isVisible,i=e.hide,o=e.post,r=e.viewer,a=(0,Z.I0)(),l=(0,F.yb)(o),s=o.collection||o.pendingCollection;return s?u.createElement(B.J,{ariaId:te,isVisible:t,hide:i,popoverRenderFn:function(){return u.createElement(D.x,{padding:"16px",maxWidth:"280px"},u.createElement(D.x,{display:"flex",flexDirection:"row",alignItems:"center"},u.createElement(D.x,{paddingRight:"8px"},u.createElement(C.v,{collection:s,size:40})),"APPROVED"===o.statusForCollection?u.createElement($.F,{scale:"S"},(0,ee.Hj)(o,r)?"Your":"This"," story is published in"," ",s.name,"."):"PENDING"===o.statusForCollection?u.createElement($.F,{scale:"S"},"Your story is being reviewed by ",s.name," editors."):u.createElement($.F,{scale:"S"},"This draft is submitted to ",s.name)),u.createElement(D.x,{flexDirection:"row",display:"flex",paddingTop:"16px"},u.createElement(D.x,{paddingRight:"8px"},u.createElement(V.z,{buttonStyle:"SUBTLE",onClick:function(){l(s).then((function(){a((0,q.Dx)({message:"Story removed from ".concat(s.name||"publication")}))}),(function(){a((0,q.Dx)({message:"There was a problem removing the story from ".concat(s.name||"publication"),toastStyle:"ERROR"}))})),i()}},"PENDING"===o.statusForCollection?"Cancel submission":"Remove from ".concat(s.name||"")))))}},n):n},re=t(43220),ae=t(48502),le=t(74302),se=t(25735),ce=t(36405),ue=t(6443),de=t(98550),me=t(18733),pe=t(26350),ve=t(13256),fe=t(75765),ge=t(37774),ke=t(1383),be=t(14646),ye=t(75221),he=t(43487),Ee=t(43303),Se=t(68894),Ce=t(50458);function Pe(){var e=o()(["\n  fragment CreatorActionOverflowPopover_post on Post {\n    allowResponses\n    id\n    statusForCollection\n    isLocked\n    isPublished\n    clapCount\n    mediumUrl\n    pinnedAt\n    pinnedByCreatorAt\n    curationEligibleAt\n    mediumUrl\n    responseDistribution\n    visibility\n    inResponseToPostResult {\n      __typename\n    }\n    inResponseToCatalogResult {\n      __typename\n    }\n    pendingCollection {\n      id\n      name\n      creator {\n        id\n      }\n      avatar {\n        id\n      }\n      domain\n      slug\n    }\n    creator {\n      id\n      ...MutePopoverOptions_creator\n      ...auroraHooks_publisher\n    }\n    collection {\n      id\n      name\n      creator {\n        id\n      }\n      avatar {\n        id\n      }\n      domain\n      slug\n      ...MutePopoverOptions_collection\n      ...auroraHooks_publisher\n    }\n    ...useIsPinnedInContext_post\n    ...NewsletterV3EmailToSubscribersMenuItem_post\n    ...OverflowMenuItemUndoClaps_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Pe=function(){return e},e}var we=function(e){var n,t,i=e.creator,o=e.post,r=e.collection,l=e.showLoadingIndicator,c=e.setIsAuthorOrPubMuted,p=e.setMutedAuthorId,k=e.setMutedPubId,S=e.isMutingFromHomeFeed,C=e.hideUndoApplause,P=void 0!==C&&C,w=e.iconStyle,I=u.useState(!1),x=a()(I,2),N=x[0],_=x[1],F=u.useState(!1),O=a()(F,2),T=O[0],V=O[1],M=u.useState(!1),j=a()(M,2),$=j[0],L=j[1],U=(0,be.I)(),H=(0,me.Uo)(),z=o.allowResponses,K=o.pendingCollection,G=o.mediumUrl,W=o.visibility,Y=(0,ne.gY)(r).viewerEdge,Z=(0,ne.gY)(K).viewerEdge,ee=(0,de.T)(o).viewerEdge,te=(0,q.w)(),Pe=(0,ue.H)().value,we=null==Pe?void 0:Pe.id,Ie=o.responseDistribution===ye.Et.DISTRIBUTED,xe=!!o.inResponseToPostResult||!!o.inResponseToCatalogResult,Ne=xe?"response":"story",_e=(0,ae.KQ)(o),Fe=a()(_e,2),Oe=Fe[0],Ae=Fe[1],De=(0,re.UL)(o.collection),Re=(0,re.UL)(o.creator),Te=u.useCallback((function(e){var n;te({extraParams:{collectionName:(null===(n=o.collection)||void 0===n?void 0:n.name)||"",becamePinned:!!e.data.setPinnedAt.pinnedAt},toastStyle:"POST_PINNED_TO_COLLECTION_HOMEPAGE"})}),[null===(n=o.collection)||void 0===n?void 0:n.name]),Ve=u.useCallback((function(e){te({message:e.data.postSetPinnedByCreatorAt.pinnedByCreatorAt?"This ".concat(Ne," has been pinned to your profile's homepage"):"This ".concat(Ne," has been unpinned from your profile's homepage")})}),[]),Me=u.useCallback((function(){Ae().then(Te)}),[Ae,Te,null==o||null===(t=o.collection)||void 0===t?void 0:t.name]),Be=(0,ae.In)(o),je=a()(Be,2),$e=je[0],Le=je[1],Ue=u.useCallback((function(){Le().then(Ve)}),[Le,Ve]),He=(0,he.v9)((function(e){return e.config.authDomain})),ze=!!(0,se.VB)({name:"unhide_mobile_ctas",placeholder:!1}),Ke=u.useState(!1),Ge=a()(Ke,2),Qe=Ge[0],We=Ge[1],Ye=(0,Se.O)(!1),Xe=a()(Ye,3),Ze=Xe[0],qe=Xe[1],Je=Xe[2],en=(0,Se.O)(!1),nn=a()(en,4),tn=nn[0],on=nn[2],rn=nn[3],an=(0,f.j)(o.id),ln=a()(an,1)[0],sn=(0,Se.O)(!1),cn=a()(sn,3),un=cn[0],dn=cn[1],mn=cn[2],pn=u.useCallback((function(){ln().then((function(){return window.location.reload()}))}),[ln]),vn="Delete story";Ie?vn="Delete story and response":xe&&(vn="Delete response");var fn=Ie?le.Q:"Are you sure you want to delete this ".concat(Ne,"?"),gn=(0,ce.P5)("can_edit_members_only_posts");if(!i||!Pe)return null;var kn=we===i.id,bn=(null==Y?void 0:Y.isEditor)||(null==Z?void 0:Z.isEditor),yn=kn||bn,hn=gn&&o&&o.isLocked,En=yn||hn,Sn="creatorActionOverflowMenu",Cn="LOCKED"===W,Pn=bn&&!kn||!yn,wn=function(){Ie&&(on(),qe())};return Qe?u.createElement(b.l,{to:(0,Ce.d0A)(He,o.id)}):u.createElement(u.Fragment,null,u.createElement(ke.Q,{buttonStyle:"STRONG",cancelText:"Cancel",isVisible:Ze,onConfirm:function(){We(!0)},hide:Je,titleText:"Edit story and response",confirmText:"Continue",isDestructiveAction:!1},le.t),u.createElement(ke.Q,{buttonStyle:"ERROR",cancelText:"Cancel",isVisible:un,onConfirm:pn,hide:mn,titleText:vn,confirmText:"Delete",isDestructiveAction:!0},fn),u.createElement(B.J,{ariaId:Sn,isVisible:tn,hide:on,popoverRenderFn:function(){return u.createElement(A.mX,null,u.createElement(u.Fragment,null,u.createElement(v.P,{type:"popover",handleClick:wn,href:(0,Ce.d0A)(He,o.id),isVisible:!!En,isVisibleOnMobile:!!ze},"Edit ",Ne),r&&bn&&De&&u.createElement(A.Sl,null,u.createElement(R.r,{onClick:Me},Oe?"Unpin this ".concat(Ne," from "):"Pin this ".concat(Ne," to "),r.name)),kn&&Re&&u.createElement(A.Sl,null,u.createElement(R.r,{onClick:Ue},$e?"Unpin this ".concat(Ne," from your profile"):"Pin this ".concat(Ne," to your profile"))),u.createElement(y.w4,{post:o,onClick:on,menuStyle:"TEXT"}),yn?u.createElement(u.Fragment,null,u.createElement(A.oK,null),u.createElement(A.Sl,null,u.createElement(R.r,{href:(0,Ce.KIb)(He,o.id)},s()(Ne)," settings"))):null,yn&&u.createElement(A.Sl,null,u.createElement(R.r,{href:(0,Ce.T0G)(He,o.id)},s()(Ne)," stats")),yn&&Cn&&G&&(null==ee?void 0:ee.shareKey)&&u.createElement(h.$,{post:o,shareKey:null==ee?void 0:ee.shareKey}),yn&&u.createElement(A.oK,null),yn?u.createElement(u.Fragment,null,u.createElement(E.r,{hidePopover:on,postId:o.id,allowResponses:z}),u.createElement(Q,{post:o,show:function(){V(!0),on()}}),u.createElement(ie,{viewer:Pe,post:o,show:function(){L(!0),on()}}),kn&&u.createElement(A.Sl,null,u.createElement("div",{className:U({color:H.baseTheme.errorColor})},u.createElement(R.r,{onClick:(0,Ee.B)(on,dn)},"Delete ",Ne)))):null,Pn?u.createElement(u.Fragment,null,bn&&u.createElement(A.oK,null),!P&&u.createElement(m.T,{post:o,hidePopover:on}),u.createElement(u.Fragment,null,we?u.createElement(ge.z,{targetUserId:i.id,postId:o.id,hidePopover:on,viewerId:we}):u.createElement(A.Sl,null,u.createElement(pe.R,{operation:"register",post:o,susiEntry:"report_footer"},"Report this ",Ne))),u.createElement(g.q,{hidePopover:on,creator:i,collection:r,postId:o.id,setIsAuthorOrPubMuted:c,setMutedAuthorId:p,setMutedPubId:k,isMutingFromHomeFeed:S}),u.createElement(ve.F,{hidePopover:on,creator:i,viewer:Pe}),u.createElement(fe.j,{hidePopover:on,creator:i,viewer:Pe})):null))}},u.createElement(X,{post:o,isVisible:T,hide:function(){V(!1)},showLoadingIndicator:l},u.createElement(oe,{viewer:Pe,post:o,isVisible:$,hide:function(){L(!1)}},u.createElement(J,{post:o,isVisible:N,hide:function(){_(!1)},showLoadingIndicator:l},u.createElement(D.x,{flexGrow:"0",marginRight:"-4px"},u.createElement(d.c,{"aria-controls":Sn,"aria-expanded":tn?"true":"false","aria-label":"More options",onClick:rn,iconStyle:w})))))))},Ie=(0,c.Ps)(Pe(),k.m,k.G,ae.xt,re.C5,y.SX,p.g)},8981:(e,n,t)=>{"use strict";t.d(n,{Lf:()=>f,h3:()=>g,yb:()=>k});var i=t(63038),o=t.n(i),r=t(28655),a=t.n(r),l=t(92471),s=t(21919),c=t(67294),u=t(97217);function d(){var e=a()(["\n  mutation RejectPostFromPubMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      collection {\n        id\n      }\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return d=function(){return e},e}function m(){var e=a()(["\n  mutation ManageCollectionPostStatusMutation(\n    $postId: ID!\n    $collectionSlug: String!\n    $status: CollectionPostStatus!\n  ) {\n    manageCollectionPostStatus(postId: $postId, collectionSlug: $collectionSlug, status: $status) {\n      __typename\n      id\n      statusForCollection\n      pendingCollection {\n        id\n        slug\n      }\n    }\n  }\n"]);return m=function(){return e},e}var p=(0,l.Ps)(m()),v=(0,l.Ps)(d()),f=function(e){var n=(0,s.D)(p),t=o()(n,1)[0];return(0,c.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:u.Zj.PENDING},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:u.Zj.PENDING,pendingCollection:n}}})}),[e])},g=function(e){var n=(0,s.D)(p),t=o()(n,1)[0];return(0,c.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:u.Zj.APPROVED}})}),[e])},k=function(e){var n=(0,s.D)(v),t=o()(n,1)[0];return(0,c.useCallback)((function(n){return t({variables:{collectionSlug:(null==n?void 0:n.slug)||"",postId:e.id,status:u.Zj.REMOVED},optimisticResponse:{manageCollectionPostStatus:{__typename:"Post",id:e.id,statusForCollection:null,collection:null,pendingCollection:null}}}).then((function(e){if(e.errors&&e.errors[0])throw e.errors[0];return e}))}),[e])}},29053:(e,n,t)=>{"use strict";t.d(n,{a:()=>a,E:()=>l});var i=t(319),o=t.n(i),r=t(84683),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ManageSubmission_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}].concat(o()(r.d.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ManageSubmission_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"statusForCollection"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"pendingCollection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ManageSubmission_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}].concat(o()(a.definitions))}},62676:(e,n,t)=>{"use strict";t.d(n,{Hj:()=>c,py:()=>u,En:()=>m});var i=t(28655),o=t.n(i),r=t(92471),a=t(84683);function l(){var e=o()(["\n  fragment ManageSubmission_post on Post {\n    id\n    statusForCollection\n    collection {\n      ...ManageSubmission_collection\n    }\n    pendingCollection {\n      ...ManageSubmission_collection\n    }\n    creator {\n      id\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function s(){var e=o()(["\n  fragment ManageSubmission_collection on Collection {\n    name\n    creator {\n      id\n    }\n    ...CollectionAvatar_collection\n  }\n  ","\n"]);return s=function(){return e},e}var c=function(e,n){return n&&e.creator&&n.id===e.creator.id},u=function(e,n){var t=e.pendingCollection||e.collection;return t&&t.creator&&n.id===t.creator.id},d=(0,r.Ps)(s(),a.d),m=(0,r.Ps)(l(),d)},46732:(e,n,t)=>{"use strict";t.d(n,{JP:()=>a});var i=t(319),o=t.n(i),r=t(70836),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}}].concat(o()(r.U.definitions))};[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClapMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"numClaps"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clap"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}},{kind:"Argument",name:{kind:"Name",value:"numClaps"},value:{kind:"Variable",name:{kind:"Name",value:"numClaps"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_viewerEdge"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ClapMutation_post"}}]}}]}}].concat(o()([{kind:"FragmentDefinition",name:{kind:"Name",value:"ClapMutation_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}}]),o()(a.definitions))},13195:(e,n,t)=>{"use strict";t.d(n,{CP:()=>S});var i=t(59713),o=t.n(i),r=t(63038),a=t.n(r),l=t(28655),s=t.n(l),c=t(92471),u=t(21919),d=t(67294),m=t(11462),p=t(70836);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(){var e=s()(["\n  mutation ClapMutation($targetPostId: ID!, $userId: ID!, $numClaps: Int!) {\n    clap(targetPostId: $targetPostId, userId: $userId, numClaps: $numClaps) {\n      viewerEdge {\n        ...ClapMutation_viewerEdge\n      }\n      ...ClapMutation_post\n    }\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function k(){var e=s()(["\n  fragment ClapMutation_viewerEdge on PostViewerEdge {\n    __typename\n    id\n    clapCount\n  }\n"]);return k=function(){return e},e}function b(){var e=s()(["\n  fragment ClapMutation_post on Post {\n    __typename\n    id\n    clapCount\n    ...MultiVoteCount_post\n  }\n  ","\n"]);return b=function(){return e},e}var y=(0,c.Ps)(b(),p.U),h=(0,c.Ps)(k()),E=(0,c.Ps)(g(),y,h),S=function(){var e=(0,u.D)(E),n=a()(e,1)[0];return(0,d.useCallback)((function(e,t,i,o){var r;return n({variables:{targetPostId:e.id,userId:t,numClaps:i},optimisticResponse:{clap:f(f({__typename:"Post"},e),{},{clapCount:(null!==(r=e.clapCount)&&void 0!==r?r:0)+i,viewerEdge:{__typename:"PostViewerEdge",id:(0,m.Q)(e.id,t),clapCount:i}})},update:function(n,t){var r,a,l=null==t||null===(r=t.data)||void 0===r?void 0:r.clap;if(l){var s=n.readFragment({id:"Post:".concat(l.id),fragment:y,fragmentName:"ClapMutation_post"});n.writeFragment({id:"Post:".concat(l.id),fragment:y,fragmentName:"ClapMutation_post",data:f(f({},s),{},{clapCount:(null!==(a=e.clapCount)&&void 0!==a?a:0)+i,viewerClapCount:((null==o?void 0:o.clapCount)||0)+i})})}}})}),[])}},70836:(e,n,t)=>{"use strict";t.d(n,{U:()=>o});var i=t(319),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVoteCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostVotersNetwork_post"}}]}}].concat(t.n(i)()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostVotersNetwork_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"voterCount"}},{kind:"Field",name:{kind:"Name",value:"recommenders"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]))}},93647:(e,n,t)=>{"use strict";t.d(n,{C:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"auroraHooks_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraEligible"}},{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAuroraVisible"}}]}}]}}]}},43220:(e,n,t)=>{"use strict";t.d(n,{UL:()=>l,GT:()=>s,KW:()=>c,Iq:()=>u,C5:()=>d});var i=t(28655),o=t.n(i),r=t(92471);function a(){var e=o()(["\n  fragment auroraHooks_publisher on Publisher {\n    __typename\n    ... on Collection {\n      isAuroraEligible\n      isAuroraVisible\n      viewerEdge {\n        id\n        isEditor\n      }\n    }\n    ... on User {\n      isAuroraVisible\n    }\n  }\n"]);return a=function(){return e},e}var l=function(e){return!!e&&(e.isAuroraVisible||"Collection"===e.__typename&&e.isAuroraEligible&&e.viewerEdge.isEditor)},s=function(e){return!!e&&e.isAuroraVisible},c=function(e){return!!e&&e.isAuroraVisible},u=function(e){return!!e&&("Collection"===e.__typename?e.isAuroraVisible||e.isAuroraEligible&&e.viewerEdge.isEditor:e.isAuroraVisible)},d=(0,r.Ps)(a())},48502:(e,n,t)=>{"use strict";t.d(n,{Zu:()=>S,n_:()=>h,xt:()=>k,KQ:()=>b,In:()=>y,PB:()=>E});var i=t(63038),o=t.n(i),r=t(28655),a=t.n(r),l=t(92471),s=t(21919),c=t(67294);function u(){var e=a()(["\n  mutation postSetPinnedByCreatorAt($postId: ID!, $isPinned: Boolean!) {\n    postSetPinnedByCreatorAt(targetPostId: $postId, isPinned: $isPinned) {\n      __typename\n      ... on Post {\n        id\n        pinnedByCreatorAt\n      }\n    }\n  }\n"]);return u=function(){return e},e}function d(){var e=a()(["\n  mutation setPinnedAt($postId: ID!, $collectionId: ID!, $pinnedAt: Boolean!) {\n    __typename\n    setPinnedAt(targetPostId: $postId, targetCollectionId: $collectionId, pinnedAt: $pinnedAt) {\n      __typename\n      ... on Post {\n        id\n        collection {\n          id\n        }\n        pendingCollection {\n          id\n        }\n        pinnedAt\n      }\n    }\n  }\n"]);return d=function(){return e},e}var m=(0,l.Ps)(d()),p=(0,l.Ps)(u()),v=t(92661),f=t(50458);function g(){var e=a()(["\n  fragment useIsPinnedInContext_post on Post {\n    id\n    collection {\n      id\n    }\n    pendingCollection {\n      id\n    }\n    pinnedAt\n    pinnedByCreatorAt\n  }\n"]);return g=function(){return e},e}var k=(0,l.Ps)(g()),b=function(e){var n=e.id,t=e.collection,i=e.pendingCollection,r=e.pinnedAt,a=(t||i||{id:""}).id,l=(0,s.D)(m,{optimisticResponse:{__typename:"Mutation",setPinnedAt:{__typename:"Post",id:n,collection:t,pendingCollection:i,pinnedAt:r?0:Date.now()}}}),u=o()(l,1)[0],d=c.useCallback((function(){return u({variables:{postId:n,collectionId:a,pinnedAt:!r}})}),[n,a,r,u]);return[r,d]},y=function(e){var n=e.id,t=e.pinnedByCreatorAt,i=(0,s.D)(p,{optimisticResponse:{postSetPinnedByCreatorAt:{__typename:"Post",id:n,pinnedByCreatorAt:t?0:Date.now()}}}),r=o()(i,1)[0],a=c.useCallback((function(){return r({variables:{postId:n,isPinned:!t}})}),[n,r,t]);return[t,a]},h=function(e,n){var t=b(e),i=o()(t,2),r=i[0],a=i[1],l=y(e),s=o()(l,2),u=s[0],d=s[1],m=c.useCallback((function(){return"Collection"===n?a():d()}),[n,a,d]);return["Collection"===n?r:u,m]},E=function(e,n){var t="Collection"===e.__typename?e.slug:null,i=(0,v.di)("ShowCollectionHome",t?{collectionSlug:t}:{collectionSlug:""});return"Collection"===e.__typename?i:"User"===e.__typename&&e.username?(0,f.AWr)(e,n):""},S=function(e){switch(e.__typename){case"Collection":return"Publication";case"User":return"Author";default:return"Publisher"}}},75675:(e,n,t)=>{"use strict";t.d(n,{w:()=>a});var i=t(67294),o=t(80745),r=t(1383),a=function(e){var n=e.onConfirm,t=e.isVisible,a=e.hide,l=e.entityTypename,s=(0,o.Pm)(l);return i.createElement(r.Q,{onConfirm:n,isVisible:t,hide:a,titleText:"Hide responses",confirmText:"Confirm",isDestructiveAction:!1},"People will still be able to respond, but the link to see responses will not be displayed at the bottom of your ",s,".")}},74302:(e,n,t)=>{"use strict";t.d(n,{Q:()=>i,t:()=>o});var i="This story is also a response to another story. Are you sure you want to delete this story?",o="This story is also a response to another story. Any edits are applied to both."},6729:(e,n,t)=>{"use strict";t.d(n,{sC:()=>l,Yq:()=>c,OL:()=>u});var i=t(59713),o=t.n(i);function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var l={FACEBOOK:"Facebook",TWITTER:"Twitter",LINKEDIN:"LinkedIn"},s=function(e){return{":hover path":{fill:e.baseColor.fill.darker},":focus path":{fill:e.baseColor.fill.darker}}},c=function(e){return a({"& path":{fill:e.baseColor.fill.normal}},s(e))},u=function(e){return a({"& path":{fill:e.baseColor.text.lighter},padding:"8px 2px"},s(e))}},88417:(e,n,t)=>{"use strict";t.d(n,{$:()=>f});var i=t(63038),o=t.n(i),r=t(67294),a=t(97521),l=t(77355),s=t(70310),c=t(61609),u=t(47230),d=t(93310),m=t(9935),p=t(20113),v=t(87691),f=function(e){var n=e.isVisible,t=e.hide,i=e.onSubmit,f=e.isResponse,g=r.useState(!1),k=o()(g,2),b=k[0],y=k[1],h=r.useState("Spam"),E=o()(h,2),S=E[0],C=E[1],P=r.useCallback((function(e,n){return C(n)}),[]),w="reportStoryTitle";return r.createElement(a.V,{isVisible:n,hide:t,noPortal:f,withCloseButton:!1,customBackgroundColor:f?"rgba(255, 255, 255, 0.97)":"rgba(255, 255, 255, 0.94)"},r.createElement(l.x,{height:"550px",width:f?"100%":"900px",background:f?"none":"white",borderRadius:"4px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:f?"none":"rgba(0, 0, 0, 0.15) 0px 2px 10px",padding:"18px",position:"relative",sm:{boxShadow:"none",background:"none"},xs:{boxShadow:"none",background:"none"}},r.createElement(l.x,{display:"flex",margin:"auto",flexDirection:"column",alignItems:f?"flex-start":"center"},r.createElement(p.X6,{scale:"M",ariaLabelledById:w},"Report ",f?"Response":"Story"),r.createElement(l.x,{display:"flex",flexDirection:"column",width:"100%",paddingRight:"5px",marginBottom:"30px"},r.createElement(l.x,{marginTop:"25px",marginBottom:"30px",padding:"5px 0"},r.createElement(s.E,{onChange:P,value:S,radioStyle:"SUBTLE",options:[{name:"Spam",value:"Spam"},{name:"Harassment",value:"Harassment"},{name:"Rules Violation",value:"Other"}],radioButtonsName:"reportStory",ariaLabelledBy:w})),r.createElement(c.X,{checked:b,onChange:function(){y(!b)}},r.createElement(l.x,{paddingTop:f?"16px":"0"},"Also block the author of this ",f?"response":"story"))),r.createElement(l.x,{display:"flex",justifyContent:"center",marginBottom:"10px"},r.createElement(l.x,{marginRight:"8px"},r.createElement(u.z,{onClick:t},"Cancel")),r.createElement(u.z,{buttonStyle:"ERROR",onClick:function(){i(b,S),t()}},"Report")),r.createElement(l.x,{marginTop:"50px",textAlign:f?"left":"center"},r.createElement(v.F,{scale:"M",tag:"div"},"Report"," ",r.createElement(d.r,{href:"https://medium.com/policy/mediums-copyright-and-dmca-policy-d126f73695",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"copyright infringement")," ","or"," ",r.createElement(d.r,{href:"https://medium.com/policy/mediums-trademark-policy-e3bb53df59a7",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"trademark infringement"),". ",!f&&r.createElement("br",null),"Read"," ",r.createElement(d.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",target:"_blank",inline:!0},"our rules"),"."))),!f&&r.createElement(m.P,{onClick:t,size:"LARGE",absoluteOffset:"18px"})))}},37774:(e,n,t)=>{"use strict";t.d(n,{z:()=>m});var i=t(63038),o=t.n(i),r=t(67294),a=t(6419),l=t(75880),s=t(38352),c=t(88417),u=t(93310),d=t(68894),m=function(e){var n=e.hidePopover,t=e.targetUserId,i=e.postId,m=e.viewerId,p=e.shouldShowShortenedCopy,v=void 0!==p&&p,f=(0,l.Pd)({id:t}).viewerEdge,g=!(null==f||!f.isBlocking),k=(0,d.O)(!1),b=o()(k,3),y=b[0],h=b[1],E=b[2];return r.createElement(r.Fragment,null,r.createElement(a.H,{targetAuthorId:t,targetPostId:i,isBlocking:g,onOptimisticComplete:function(){E(),n()},viewerId:m},(function(e){var n=e.mutate;return r.createElement(c.$,{onSubmit:n,isVisible:y,hide:E})})),r.createElement(s.Sl,null,r.createElement(u.r,{onClick:function(){h()}},v?"Report":"Report this story")))}},43303:(e,n,t)=>{"use strict";function i(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==t.return||t.return()}finally{if(s)throw a}}}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}t.d(n,{B:()=>r});var r=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(){var e,t=i(n);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(e){t.e(e)}finally{t.f()}}}},51681:(e,n,t)=>{"use strict";function i(e,n,t){return!!n&&e[n.id]||{clapCount:(null==n?void 0:n.clapCount)||0,viewerClapCount:(null==t?void 0:t.clapCount)||0,viewerHasClappedSinceFetch:!1}}t.d(n,{l:()=>i})}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6509.f071d05d.chunk.js.map